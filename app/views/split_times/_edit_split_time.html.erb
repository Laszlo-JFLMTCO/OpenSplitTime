<%# Requires parameter split_times(collection) %>

<table class="table table-condensed table-striped">
  <thead>
  <tr>
    <th>Split</th>
    <th class="text-right">Distance</th>
    <th class="text-right">Time</th>
    <th class="text-right">Actions</th>
  </tr>
  </thead>
  <tbody>
  <% split_times.each do |split_time| %>
      <tr>
            <td><%= split_time.split.name %></td>
            <td class="text-right"><%= split_time.split.distance_from_start.meters.to.miles.round(1) %></td>
            <td class="text-right"><%= split_time.formatted_time %></td>
            <td class="text-right">
              <% if @current_user && @current_user.authorized_to_edit?(@effort) %>
                  <%= link_to 'Edit', edit_split_time_path(split_time), class: "btn btn-xs btn-primary" %>
                  <%= link_to 'Delete', split_time_path(split_time, referrer_path: edit_split_times_effort_path),
                              method: :delete,
                              data: {confirm: "Are you sure?"}, class: "btn btn-xs btn-danger" %>
              <% end %>
            </td>
      </tr>
  <% end %>
  </tbody>
</table>
