<div class="row header">
	<div class="col-xs-8 page-title">
		<h1>Real-Time Data Entry</h1>
		<h2></h2>
	</div>
	<div class="col-xs-4 aid-station text-right">
		<div class="col-xs-6 aid-station-label">
			Aid Station
		</div>

		<!--	 
			This span stores the event ID from the url so JavaScript can pass it to the controller.
			There may be a better way to do this in the controller, because this breaks MVC.
		 -->
		<span id="js-event-id" class="event-id"><%= params[:id] %></span>
		<div class="col-xs-6 aid-station-select">
			<select name="split-select" id="split-select"></select>
		</div>
	</div>
</div>
<div class="row form-split-wrapper">
	<div class="col-xs-4 live-entry">
		<form id="js-add-effort-form">
			<div class="form-group clearfix">
				<label class="col-xs-4" for="bib-number">Bib #</label>
				<div class="col-xs-8">
					<input type="text" id="js-bib-number" name="bibNumber" class="form-control" placeholder="Bib #" autocomplete="off" value="">
				</div>
			</div>
			<div class="form-group clearfix">
				<label class="col-xs-4" for="time-in">Time In</label>
				<div class="col-xs-8">
					<input type="text" id="js-time-in" name="timeIn" class="form-control" placeholder="Time In" disabled="disabled" value="">
				</div>
			</div>
			<div class="form-group clearfix">
				<label class="col-xs-4" for="time-out">Time Out</label>
				<div class="col-xs-8">
					<input type="text" id="js-time-out" name="timeOut" class="form-control" placeholder="Time Out" disabled="disabled" value="">
				</div>
			</div>
			<div class="form-group clearfix">
				<label class="col-xs-4" for="pacer">Pacer</label>
				<div class="col-xs-8">
					<label class="checkbox-inline">
						<input type="checkbox" id="js-pacer-in" name="pacerIn" value="true" disabled="disabled"> In
					</label>
					<label class="checkbox-inline">
						<input type="checkbox" id="js-pacer-out" name="pacerOut" value="true" disabled="disabled"> Out
					</label>
				</div>
				<p class="col-xs-8 message">Enter * if data is not clear</p>
			</div>
			<div class="col-xs-8 col-xs-offset-4">
				<input type="hidden" name="effort-id" id="js-effort-id" value="">
				<input type="hidden" name="live-bib" id="js-live-bib" value="">
				<button type="submit" class="btn btn-primary" id="js-add-to-cache">Add</button>
			</div>
		</form>
	</div>
	<div class="col-xs-8 splits-slider">

		<div class="splits-slider-range col-xs-12">range slider</div>
		<div class="splits-slider-data col-xs-12">
			<table>
				<tr>
					<td align="right">Name: </td>
					<td id="js-effort-name"></td>
				</tr>
				<tr>
					<td align="right">Last Reported: </td>
					<td id="js-effort-last-reported"></td>
				</tr>
				<tr>
					<td align="right">Split From: </td>
					<td id="js-effort-split-from"><span id="js-effort-data-check"></span></td>
				</tr>
				<tr>
					<td align="right">Time Spent:</td>
					<td id="js-effort-split-spent"></td>
				</tr>
			</table>
		</div>

	</div>
</div>

<div class="row provisional-data">
	<div class="col-xs-12">
		<h3>Provisional Data Cache</h3>
		<div class="provisional-table-wrapper">
			<table class="table table-striped provisional-data-table js-provisional-data-table">
				<thead>
					<tr>
						<th>Aid Station</th>
						<th>Bib&num;</th>
						<th>Time In</th>
						<th>Time Out</th>
						<th>Pacer In?</th>
						<th>Pacer Out?</th>
						<th>Name</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr class="effort-station-row js-effort-station-row" data-bib-number="" data-effort-name="" data-split-name="" data-time-in="" data-time-out="" data-pacer-in="boolean" data-pacer-out="boolean" >
						<td class="split-name js-split-name">Pole Creek</td>
						<td class="bib-number js-bib-number">125</td>
						<td class="time-in js-time-in">4:38</td>
						<td class="time-out js-time-out">4:40</td>
						<td class="pacer-in js-pacer-in">Yes</td>
						<td class="pacer-out js-pacer-out">Yes</td>
						<td class="effort-name js-effort-name">Brandon Stapanowich</td>
						<td class="row-edit-btns">
							<button class="effort-row-btn fa fa-pencil edit-effort js-edit-effort btn btn-primary" data-toggle="modal" data-target=".edit-effort-modal"></button>
							<button class="effort-row-btn fa fa-close delete-effort js-delete-effort btn btn-danger"></button>
							<button class="effort-row-btn fa fa-check submit-effort js-submit-effort btn btn-success"></button>
						</td>
					</tr>

				</tbody>
			</table>

			<div class="modal fade edit-effort-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
				<div class="modal-dialog modal-lg">
					<div class="modal-content">
				 		<div class="modal-header">
				 			<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				 			<h4 class="modal-title">Edit <span class="bib-number">#bibNumber</span>'s Info for <span class="slit-name">#splitName</span></h4>
				 		</div>
				 		<div class="modal-body">
							<form id="edit-effort-row">

								<input type="hidden" name="effort-id" value="#effortId" />

								<div class="form-group row">
									<div class="col-xs-12">
										<label for="split-name">Split Name</label>
										<input type="text" id="split-name" class="form-control js-split-name" disabled value="#splitName" />
									</div>
								</div>
								<div class="form-group row">
									<div class="col-xs-6">
										<label for="bib-number">Bib Number:</label>
										<input type="text" id="bib-number" class="form-control js-bib-number" value="#bibNumber" disabled/>
									</div>
									<div class="col-xs-6">
										<label for="effort-name">Name:</label>
										<input type="text" id="effort-name" class="form-control js-effort-name" value="#effortName" disabled />
									</div>
								</div>
								<div class="form-group row">
									<div class="col-xs-6">
										<label for="time-in">Time In:</label>
										<input type="text" id="time-in" class="form-control js-time-in" value="" />
									</div>
									<div class="col-xs-6">
										<label for="time-out">Time Out:</label>
										<input type="text" id="time-out" class="form-control js-time-out" value="" />
									</div>
								</div>
								<div class="form-group row">
									<div class="col-xs-12">
										<div class="checkbox-inline">
											<label for="pacer-in">
												<input type="checkbox" id="pacer-in" value="yes">
												Pacer in?
											</label>
										</div>
										<div class="checkbox-inline">
											<label for="pacer-out">
												<input type="checkbox" id="pacer-out" value="yes">
												Pacer out?
											</label>
										</div>
									</div>
								</div>

							</form>
				 		</div>
				 		<div class="modal-footer">
				 			<button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
    						<button type="button" class="btn btn-success js-update-effort-submit">Save changes</button>
				 		</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12 col-md-4 col-md-offset-8 table-submit-wrapper">
		<button class="delete-all-efforts btn btn-danger">Delete All</button>
		<button class="submit-all-efforts btn btn-success">Submit All</button>
	</div>
</div>